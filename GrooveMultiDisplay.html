<!DOCTYPE html>
<html>
    <head>
		<title>Groove Display</title>
		
		<meta name="viewport" content="width=810, initial-scale=1.25">
		
		<!--   Other peoples JS libraries    -->
		<!--   midi.js package for sound   -->
		<script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
		<script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
		<script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
		<script src="./js/MIDI/Player.js" type="text/javascript"></script>
		<script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
		<!-- jasmid package midi package required by midi.js above -->
		<script src="./inc/jasmid/stream.js"></script>
		<script src="./inc/jasmid/midifile.js"></script>
		<script src="./inc/jasmid/replayer.js"></script>
		<!-- jsmidgen -->
		<script src="./js/jsmidgen.js" type="text/javascript"></script>
		<!-- extras -->
		<script src="./inc/Base64.js" type="text/javascript"></script>
		<script src="./inc/base64binary.js" type="text/javascript"></script>
		<!-- script to render ABC to an SVG image -->
		<script type="text/javascript" src="./js/abc2svg-1.js"></script>
		
		<!--   our custom JS  -->
		<script src="js/groove_utils.js"></script>
		
		
	    <link rel="stylesheet" type="text/css" href="css/groove_writer.css">
    </head>
    <body>
	<script>
			var UniqueCounter = 0;  // global
	
	
			function AddGroove(HtmlTagId, GrooveDefinition) {
				var myGrooveUtils = new GrooveUtils();
				UniqueCounter++;
				
				svgTargetId = "svgTarget" + UniqueCounter;
				midiPlayerTargetId = "midiPlayerTarget" + UniqueCounter;
			
				document.getElementById(HtmlTagId).innerHTML = '' +
						'<div id="' + svgTargetId + '" class="svgTarget"></div>\n' +
						'<div id="' + midiPlayerTargetId + '"></div>\n';
						
				// load the groove from the URL data if it was passed in.
				var GrooveData = myGrooveUtils.getGrooveDataFromUrlString(GrooveDefinition);
				var abcNotation = myGrooveUtils.createABCFromGrooveData(GrooveData);
				var svgReturn = myGrooveUtils.renderABCtoSVG(abcNotation);
				
				document.getElementById(svgTargetId).innerHTML = "<p><pre>" + svgReturn.svg + "</pre>";
				document.getElementById(svgTargetId).innerHTML = '<a href="https://b125c4f8bf7d89726feec9ab8202d31e0c8d14d8.googledrive.com/host/0B2wxVWzVoWGYfnB5b3VTekxyYUowVjZ5YVE3UllLaVk5dVd4TzF4Q2ZaUXVsazhNSTdRM1E/?' + GrooveDefinition + '">' + svgReturn.svg + '</a>';
				
				
				myGrooveUtils.midiEventCallbacks.loadMidiDataEvent = function(myroot) { 
					var midiURL = myGrooveUtils.create_MIDIURLFromGrooveData(GrooveData, "our_MIDI");
					myGrooveUtils.loadMIDIFromURL(midiURL);
					myGrooveUtils.midiResetNoteHasChanged();
				}
	
				myGrooveUtils.AddMidiPlayerToPage(midiPlayerTargetId);
				myGrooveUtils.oneTimeInitializeMidi();
			}
			
	
			// set up the page after it has fully loaded
			window.onload = function () {
				AddGroove("groove1", 'Div=16&Title=Funk&Tempo=80&Measures=2&showMeasures=2&H=|X-x-X-x-X-x-X-x-|X-x-X-x-X-x-X-x-|&S=|-----g-o-o--x--o|-----g-o-o--x--o|&K=|o-o-------o--o--|o-o-------o--o--|');
				AddGroove("groove2", 'Div=24&Title=Rosanna Shuffle&Author=Jeff Pocaro&Tempo=85&Measures=2&showMeasures=1&H=|x-xx-xx-xx-xx-xx-xx-xx-x|xxxxxxxxxxxxxxxxxxxxxxxx|&S=|-g--g-Og--g--g--g-Og--g-|------O-----------O-----|&K=|o----o---o-o--o---o----o|o-----------o-----------|');
				AddGroove("groove3", 'Div=16&Title=Samba&Tempo=80&Measures=2&showMeasures=1&H=|xxXxxxXxxxXxxxXx|xxXxxxXxxxXxxxXx|&S=|o-o-oo-o-o-ooooo|o-o-oo-o-o-ooooo|&K=|o-ooo--oo-oooo-o|o-ooo--oo-oooo-o|');
			}
			
			
			
	</script>
	
	<h1>Groove Lesson example</h1>
	This is an example page.    I want to talk about the first groove and what it is useful for. 
	<br>
	<div id="groove1"></div>
	
	<hr>
	<h2>Topic 2</h2>
	Here is another groove.  Lorem ipsum dolor sit amet, lorem albucius et eam, id eum agam tibique. Altera tincidunt instructior nec te, vim oblique albucius no. Te dico eirmod has, vis ei agam cotidieque consequuntur. Et duo homero labore malorum, sint molestie vel ex, ei sed prima justo. Legere vidisse cu sed. Cum te populo utroque, novum zril eligendi ad his.
	<br>
	<div id="groove2"></div>
	
	<hr>
	<h2>Topic 3</h2>
	Offendit iracundia no sit. Nec dolorum appetere delicata ea, eligendi repudiare quaerendum usu ut. Per te consul doctus inermis, et dolorum corrumpit sea, ut sed modo nostro. Admodum deleniti consulatu te qui. Vim an vide possim repudiandae, nemore vituperatoribus cum no. An mel ullum detraxit, laboramus voluptaria eu qui, putent maiorum voluptaria et pro.
	<p>
	
No possim oblique periculis nec, saperet pertinacia omittantur id usu. At mei omnes vocibus salutandi, no habeo illum instructior cum. Cu graecis adipisci sed, has numquam torquatos et. Sea offendit verterem ea. Vim eu partem tractatos, modo wisi persecuti vix ei.
	<br>
	<div id="groove3"></div>
	
	
	
	